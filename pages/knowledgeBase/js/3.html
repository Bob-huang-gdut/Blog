<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>jsåŸºç¡€çŸ¥è¯† | Bobå‰ç«¯è¿›é˜¶</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/logo.png">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <meta name="description" content="å‰ç«¯å·¥ç¨‹å¸ˆ,å‰ç«¯è‡ªå­¦,é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆ,ä¸­é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆ,å‰ç«¯è¿›é˜¶çŸ¥è¯†,å‰ç«¯èŒä¸šå‘å±•">
    
    <link rel="preload" href="/blog/assets/css/0.styles.a5953812.css" as="style"><link rel="preload" href="/blog/assets/js/app.526b3043.js" as="script"><link rel="preload" href="/blog/assets/js/2.6a3f7784.js" as="script"><link rel="preload" href="/blog/assets/js/22.02cc2ff1.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.352a5e74.js"><link rel="prefetch" href="/blog/assets/js/11.f4f7f5de.js"><link rel="prefetch" href="/blog/assets/js/12.953bf9cd.js"><link rel="prefetch" href="/blog/assets/js/13.3dc9b4c6.js"><link rel="prefetch" href="/blog/assets/js/14.eaab2050.js"><link rel="prefetch" href="/blog/assets/js/15.cc7d687a.js"><link rel="prefetch" href="/blog/assets/js/16.94c04bb5.js"><link rel="prefetch" href="/blog/assets/js/17.7814bfe0.js"><link rel="prefetch" href="/blog/assets/js/18.314efacf.js"><link rel="prefetch" href="/blog/assets/js/19.7db29cb7.js"><link rel="prefetch" href="/blog/assets/js/20.96cdf6ab.js"><link rel="prefetch" href="/blog/assets/js/21.a74c6844.js"><link rel="prefetch" href="/blog/assets/js/23.4079d032.js"><link rel="prefetch" href="/blog/assets/js/24.00d1d1e0.js"><link rel="prefetch" href="/blog/assets/js/25.0319c1ea.js"><link rel="prefetch" href="/blog/assets/js/26.d6eee7ea.js"><link rel="prefetch" href="/blog/assets/js/27.44446a15.js"><link rel="prefetch" href="/blog/assets/js/28.abdb4a89.js"><link rel="prefetch" href="/blog/assets/js/29.72d0f051.js"><link rel="prefetch" href="/blog/assets/js/3.a4533b34.js"><link rel="prefetch" href="/blog/assets/js/30.1e1a4ea2.js"><link rel="prefetch" href="/blog/assets/js/31.7923bc9d.js"><link rel="prefetch" href="/blog/assets/js/32.a230069c.js"><link rel="prefetch" href="/blog/assets/js/33.60458d00.js"><link rel="prefetch" href="/blog/assets/js/34.d07b6bef.js"><link rel="prefetch" href="/blog/assets/js/35.3a17bdd5.js"><link rel="prefetch" href="/blog/assets/js/36.c7948989.js"><link rel="prefetch" href="/blog/assets/js/37.33d9f22e.js"><link rel="prefetch" href="/blog/assets/js/38.81182456.js"><link rel="prefetch" href="/blog/assets/js/39.bca185dd.js"><link rel="prefetch" href="/blog/assets/js/4.52e259cf.js"><link rel="prefetch" href="/blog/assets/js/40.bb7b6553.js"><link rel="prefetch" href="/blog/assets/js/41.9e47fb43.js"><link rel="prefetch" href="/blog/assets/js/42.61069a3d.js"><link rel="prefetch" href="/blog/assets/js/43.eb10cb76.js"><link rel="prefetch" href="/blog/assets/js/44.78bedae8.js"><link rel="prefetch" href="/blog/assets/js/45.65ab1e8f.js"><link rel="prefetch" href="/blog/assets/js/46.7d930be3.js"><link rel="prefetch" href="/blog/assets/js/5.4cb81e47.js"><link rel="prefetch" href="/blog/assets/js/6.58addb6c.js"><link rel="prefetch" href="/blog/assets/js/7.7ac198e0.js"><link rel="prefetch" href="/blog/assets/js/8.195dacc6.js"><link rel="prefetch" href="/blog/assets/js/9.0031b2e2.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.a5953812.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Bobå‰ç«¯è¿›é˜¶</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/blog/pages/knowledgeBase/" class="nav-link router-link-active">
  çŸ¥è¯†åº“
</a></div><div class="nav-item"><a href="/blog/pages/algorithm/" class="nav-link">
  ç®—æ³•
</a></div><div class="nav-item"><a href="/blog/pages/question/" class="nav-link">
  æ¯æ—¥Â·ä¸€é¢˜
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åˆ†ç±»" class="dropdown-title"><span class="title">åˆ†ç±»</span> <span class="arrow down"></span></button> <button type="button" aria-label="åˆ†ç±»" class="mobile-dropdown-title"><span class="title">åˆ†ç±»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/knowledgeBase/test1.html" class="nav-link">
  æ–‡ç« 
</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/knowledgeBase/test4.html" class="nav-link">
  çç¢
</a></li></ul></div></div><div class="nav-item"><a href="/blog/pages/knowledgeBase/test3.html" class="nav-link">
  åŠŸèƒ½æ¼”ç¤º
</a></div><div class="nav-item"><a href="https://github.com/Bob-huang-gdut" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/blog/pages/knowledgeBase/" class="nav-link router-link-active">
  çŸ¥è¯†åº“
</a></div><div class="nav-item"><a href="/blog/pages/algorithm/" class="nav-link">
  ç®—æ³•
</a></div><div class="nav-item"><a href="/blog/pages/question/" class="nav-link">
  æ¯æ—¥Â·ä¸€é¢˜
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åˆ†ç±»" class="dropdown-title"><span class="title">åˆ†ç±»</span> <span class="arrow down"></span></button> <button type="button" aria-label="åˆ†ç±»" class="mobile-dropdown-title"><span class="title">åˆ†ç±»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/knowledgeBase/test1.html" class="nav-link">
  æ–‡ç« 
</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/knowledgeBase/test4.html" class="nav-link">
  çç¢
</a></li></ul></div></div><div class="nav-item"><a href="/blog/pages/knowledgeBase/test3.html" class="nav-link">
  åŠŸèƒ½æ¼”ç¤º
</a></div><div class="nav-item"><a href="https://github.com/Bob-huang-gdut" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/pages/knowledgeBase/" aria-current="page" class="sidebar-link">çŸ¥è¯†åº“</a></li><li><a href="/blog/pages/knowledgeBase/html/" class="sidebar-link">html</a></li><li><a href="/blog/pages/knowledgeBase/css/" class="sidebar-link">css</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/knowledgeBase/js/1.html" class="sidebar-link">javascriptç¯‡--1.6ä¸‡å­—å¸¦ä½ å›å¿†é‚£äº›é—å¿˜çš„JSçŸ¥è¯†ç‚¹</a></li><li><a href="/blog/pages/knowledgeBase/js/2.html" class="sidebar-link">ã€Œ2021ã€é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ä¹‹JavaScriptç¯‡ï¼ˆä¸Šï¼‰</a></li><li><a href="/blog/pages/knowledgeBase/js/3.html" aria-current="page" class="active sidebar-link">ã€Œ2021ã€é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ä¹‹JavaScriptç¯‡ï¼ˆä¸‹ï¼‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/pages/knowledgeBase/js/3.html#å¼‚æ­¥ç¼–ç¨‹" class="sidebar-link">å¼‚æ­¥ç¼–ç¨‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/pages/knowledgeBase/js/3.html#å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼" class="sidebar-link">å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/blog/pages/knowledgeBase/js/3.html#å¯¹promiseçš„ç†è§£" class="sidebar-link">å¯¹Promiseçš„ç†è§£</a></li><li class="sidebar-sub-header"><a href="/blog/pages/knowledgeBase/js/3.html#async-await-çš„ç†è§£" class="sidebar-link">async/await çš„ç†è§£</a></li><li class="sidebar-sub-header"><a href="/blog/pages/knowledgeBase/js/3.html#settimeoutã€setintervalã€requestanimationframe-å„æœ‰ä»€ä¹ˆç‰¹ç‚¹-todo" class="sidebar-link">setTimeoutã€setIntervalã€requestAnimationFrame å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ(TODO:)</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/pages/knowledgeBase/js/3.html#é¢å‘å¯¹è±¡" class="sidebar-link">é¢å‘å¯¹è±¡</a></li><li class="sidebar-sub-header"><a href="/blog/pages/knowledgeBase/js/3.html#åƒåœ¾å›æ”¶å’Œå†…å­˜æ³„æ¼" class="sidebar-link">åƒåœ¾å›æ”¶å’Œå†…å­˜æ³„æ¼</a></li></ul></li><li><a href="/blog/pages/knowledgeBase/js/4.html" class="sidebar-link">JavaScripté£æ ¼æŒ‡å—</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è®¾è®¡æ¨¡å¼</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å°ç¨‹åº</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ€§èƒ½ä¼˜åŒ–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>qiankun</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æµè§ˆå™¨</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è®¡ç®—æœºç½‘ç»œ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ•°æ®ç»“æ„</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog/pages/knowledgeBase/code/" class="sidebar-link">æ‰‹å†™ä»£ç </a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å‰ç«¯å®‰å…¨</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="jsåŸºç¡€çŸ¥è¯†"><a href="#jsåŸºç¡€çŸ¥è¯†" class="header-anchor">#</a> jsåŸºç¡€çŸ¥è¯†</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>ğŸ”¥ã€Œ2021ã€é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ä¹‹JavaScriptç¯‡ï¼ˆä¸‹ï¼‰
https://juejin.cn/post/6941194115392634888</p></div> <h2 id="å¼‚æ­¥ç¼–ç¨‹"><a href="#å¼‚æ­¥ç¼–ç¨‹" class="header-anchor">#</a> å¼‚æ­¥ç¼–ç¨‹</h2> <p>JavaScriptä¸­çš„å¼‚æ­¥æœºåˆ¶å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p> <h3 id="å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼"><a href="#å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼" class="header-anchor">#</a> å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼ï¼Ÿ</h3> <ul><li>å›è°ƒå‡½æ•°
çš„æ–¹å¼ï¼Œä½¿ç”¨å›è°ƒå‡½æ•°çš„æ–¹å¼æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå¤šä¸ªå›è°ƒå‡½æ•°åµŒå¥—çš„æ—¶å€™ä¼šé€ æˆå›è°ƒå‡½æ•°åœ°ç‹±ï¼Œä¸Šä¸‹ä¸¤å±‚çš„å›è°ƒå‡½æ•°é—´çš„ä»£ç è€¦åˆåº¦å¤ªé«˜ï¼Œä¸åˆ©äºä»£ç çš„å¯ç»´æŠ¤ã€‚</li> <li>Promise
çš„æ–¹å¼ï¼Œä½¿ç”¨ Promise çš„æ–¹å¼å¯ä»¥å°†åµŒå¥—çš„å›è°ƒå‡½æ•°ä½œä¸º<strong>é“¾å¼è°ƒç”¨</strong>ã€‚ä½†æ˜¯ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæœ‰æ—¶ä¼šé€ æˆå¤šä¸ª then çš„é“¾å¼è°ƒç”¨ï¼Œå¯èƒ½ä¼šé€ æˆä»£ç çš„è¯­ä¹‰ä¸å¤Ÿæ˜ç¡®ã€‚</li> <li>generator
çš„æ–¹å¼ï¼Œå®ƒå¯ä»¥åœ¨å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå°†å‡½æ•°çš„æ‰§è¡Œæƒè½¬ç§»å‡ºå»ï¼Œåœ¨å‡½æ•°å¤–éƒ¨è¿˜å¯ä»¥å°†æ‰§è¡Œæƒè½¬ç§»å›æ¥ã€‚å½“é‡åˆ°å¼‚æ­¥å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå°†å‡½æ•°æ‰§è¡Œæƒè½¬ç§»å‡ºå»ï¼Œå½“å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶å†å°†æ‰§è¡Œæƒç»™è½¬ç§»å›æ¥ã€‚å› æ­¤åœ¨ generator å†…éƒ¨å¯¹äºå¼‚æ­¥æ“ä½œçš„æ–¹å¼ï¼Œå¯ä»¥ä»¥åŒæ­¥çš„é¡ºåºæ¥ä¹¦å†™ã€‚ä½¿ç”¨è¿™ç§æ–¹å¼éœ€è¦è€ƒè™‘çš„é—®é¢˜æ˜¯ä½•æ—¶å°†å‡½æ•°çš„æ§åˆ¶æƒè½¬ç§»å›æ¥ï¼Œå› æ­¤éœ€è¦æœ‰ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œ generator çš„æœºåˆ¶ï¼Œæ¯”å¦‚è¯´ co æ¨¡å—ç­‰æ–¹å¼æ¥å®ç° generator çš„è‡ªåŠ¨æ‰§è¡Œã€‚</li> <li>async çš„æ–¹å¼ï¼Œasync å‡½æ•°æ˜¯ generator å’Œ promise å®ç°çš„ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œçš„è¯­æ³•ç³–ï¼Œå®ƒå†…éƒ¨è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œå½“å‡½æ•°å†…éƒ¨æ‰§è¡Œåˆ°ä¸€ä¸ª await è¯­å¥çš„æ—¶å€™ï¼Œå¦‚æœè¯­å¥è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œé‚£ä¹ˆå‡½æ•°å°†ä¼šç­‰å¾… promise å¯¹è±¡çš„çŠ¶æ€å˜ä¸º resolve åå†ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚å› æ­¤å¯ä»¥å°†å¼‚æ­¥é€»è¾‘ï¼Œè½¬åŒ–ä¸ºåŒæ­¥çš„é¡ºåºæ¥ä¹¦å†™ï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°å¯ä»¥è‡ªåŠ¨æ‰§è¡Œã€‚</li></ul> <h3 id="å¯¹promiseçš„ç†è§£"><a href="#å¯¹promiseçš„ç†è§£" class="header-anchor">#</a> å¯¹Promiseçš„ç†è§£</h3> <p>Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå…¶å‡ºç°ä¸»è¦è§£å†³å›è°ƒçš„â€œåœ°ç‹±å›è°ƒâ€é—®é¢˜ï¼Œæ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚Promise æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå‡½æ•°<code>function(resolve, reject) {}</code>ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ª Promise å®ä¾‹ã€‚ä¸€ä¸ª Promise å®ä¾‹æœ‰ä¸‰ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯pendingã€resolved å’Œ rejectedï¼Œåˆ†åˆ«ä»£è¡¨äº†è¿›è¡Œä¸­ã€å·²æˆåŠŸå’Œå·²å¤±è´¥ã€‚</p> <p>Promiseçš„å®ä¾‹æœ‰ä¸‰ä¸ªçŠ¶æ€:</p> <ul><li>Pendingï¼ˆè¿›è¡Œä¸­ï¼‰</li> <li>Resolvedï¼ˆå·²å®Œæˆï¼‰</li> <li>Rejectedï¼ˆå·²æ‹’ç»ï¼‰
ä¸¤ä¸ªè¿‡ç¨‹ï¼š</li> <li>pending -&gt; fulfilled : Resolvedï¼ˆå·²å®Œæˆï¼‰</li> <li>pending -&gt; rejectedï¼šRejectedï¼ˆå·²æ‹’ç»ï¼‰</li></ul> <p>Promiseæœ‰äº”ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼šthen()ã€catch()ã€all()ã€race()ã€finallyã€‚</p> <ul><li>1.then()</li></ul> <p>thenæ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºresolvedæ—¶è°ƒç”¨ï¼Œç¬¬äºŒä¸ªå›è°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºrejectedæ—¶è°ƒç”¨ã€‚å…¶ä¸­ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥çœç•¥ã€‚</p> <p>thenæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼ˆä¸æ˜¯åŸæ¥é‚£ä¸ªPromiseå®ä¾‹ï¼‰ã€‚å› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼Œå³thenæ–¹æ³•åé¢å†è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•ã€‚</p> <p>å½“è¦å†™æœ‰é¡ºåºçš„å¼‚æ­¥äº‹ä»¶æ—¶ï¼Œéœ€è¦ä¸²è¡Œæ—¶ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">'first'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resovle<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">'second'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resovle<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">'second'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>é‚£å½“è¦å†™çš„äº‹ä»¶æ²¡æœ‰é¡ºåºæˆ–è€…å…³ç³»æ—¶ï¼Œè¿˜å¦‚ä½•å†™å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨all æ–¹æ³•æ¥è§£å†³ã€‚</p> <ul><li>2.catch()</li></ul> <p>Promiseå¯¹è±¡é™¤äº†æœ‰thenæ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªcatchæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç›¸å½“äºthenæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŒ‡å‘rejectçš„å›è°ƒå‡½æ•°ã€‚ä¸è¿‡catchæ–¹æ³•è¿˜æœ‰ä¸€ä¸ªä½œç”¨ï¼Œå°±æ˜¯åœ¨æ‰§è¡Œresolveå›è°ƒå‡½æ•°æ—¶ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œä¸ä¼šåœæ­¢è¿è¡Œï¼Œè€Œæ˜¯è¿›å…¥catchæ–¹æ³•ä¸­ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'resolved'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'rejected'</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><ul><li>3.all()
allæ–¹æ³•å¯ä»¥å®Œæˆå¹¶è¡Œä»»åŠ¡ï¼Œ å®ƒæ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ã€‚å½“æ•°ç»„ä¸­æ‰€æœ‰çš„promiseçš„çŠ¶æ€éƒ½è¾¾åˆ°resolvedçš„æ—¶å€™ï¼Œallæ–¹æ³•çš„çŠ¶æ€å°±ä¼šå˜æˆresolvedï¼Œå¦‚æœæœ‰ä¸€ä¸ªçŠ¶æ€å˜æˆäº†rejectedï¼Œé‚£ä¹ˆallæ–¹æ³•çš„çŠ¶æ€å°±ä¼šå˜æˆrejectedã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> promise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> promise3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span>promise2<span class="token punctuation">,</span>promise3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//ç»“æœä¸ºï¼š[1,2,3] </span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è°ƒç”¨allæ–¹æ³•æ—¶çš„ç»“æœæˆåŠŸçš„æ—¶å€™æ˜¯å›è°ƒå‡½æ•°çš„å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„æŒ‰é¡ºåºä¿å­˜ç€æ¯ä¸€ä¸ªpromiseå¯¹è±¡resolveæ‰§è¡Œæ—¶çš„å€¼ã€‚</p> <p>Promise.all Promise.allå¯ä»¥å°†å¤šä¸ªPromiseå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚åŒæ—¶ï¼ŒæˆåŠŸå’Œå¤±è´¥çš„è¿”å›å€¼æ˜¯ä¸åŒçš„ï¼ŒæˆåŠŸçš„æ—¶å€™è¿”å›çš„æ˜¯ä¸€ä¸ªç»“æœæ•°ç»„ï¼Œè€Œå¤±è´¥çš„æ—¶å€™åˆ™è¿”å›æœ€å…ˆè¢«rejectå¤±è´¥çŠ¶æ€çš„å€¼ã€‚</p> <p>Promise.allä¸­ä¼ å…¥çš„æ˜¯æ•°ç»„ï¼Œè¿”å›çš„ä¹Ÿæ˜¯æ˜¯æ•°ç»„ï¼Œå¹¶ä¸”ä¼šå°†è¿›è¡Œæ˜ å°„ï¼Œä¼ å…¥çš„promiseå¯¹è±¡è¿”å›çš„å€¼æ˜¯æŒ‰ç…§é¡ºåºåœ¨æ•°ç»„ä¸­æ’åˆ—çš„ï¼Œä½†æ˜¯æ³¨æ„çš„æ˜¯ä»–ä»¬æ‰§è¡Œçš„é¡ºåºå¹¶ä¸æ˜¯æŒ‰ç…§é¡ºåºçš„ï¼Œé™¤éå¯è¿­ä»£å¯¹è±¡ä¸ºç©ºã€‚</p> <p>éœ€è¦æ³¨æ„ï¼ŒPromise.allè·å¾—çš„æˆåŠŸç»“æœçš„æ•°ç»„é‡Œé¢çš„æ•°æ®é¡ºåºå’ŒPromise.allæ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œè¿™æ ·å½“é‡åˆ°å‘é€å¤šä¸ªè¯·æ±‚å¹¶æ ¹æ®è¯·æ±‚é¡ºåºè·å–å’Œä½¿ç”¨æ•°æ®çš„åœºæ™¯ï¼Œå°±å¯ä»¥ä½¿ç”¨Promise.allæ¥è§£å†³ã€‚</p> <ul><li>4.race()
raceæ–¹æ³•å’Œallä¸€æ ·ï¼Œæ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªæ¯é¡¹éƒ½æ˜¯promiseçš„æ•°ç»„ï¼Œä½†æ˜¯ä¸allä¸åŒçš„æ˜¯ï¼Œå½“æœ€å…ˆæ‰§è¡Œå®Œçš„äº‹ä»¶æ‰§è¡Œå®Œä¹‹åï¼Œå°±ç›´æ¥è¿”å›è¯¥promiseå¯¹è±¡çš„å€¼ã€‚å¦‚æœç¬¬ä¸€ä¸ªpromiseå¯¹è±¡çŠ¶æ€å˜æˆresolvedï¼Œé‚£è‡ªèº«çš„çŠ¶æ€å˜æˆäº†resolvedï¼›åä¹‹ç¬¬ä¸€ä¸ªpromiseå˜æˆrejectedï¼Œé‚£è‡ªèº«çŠ¶æ€å°±ä¼šå˜æˆrejectedã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> promise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> promise3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span>promise2<span class="token punctuation">,</span>promise3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//ç»“æœï¼š2</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>é¡¾åæ€ä¹‰ï¼ŒPromse.raceå°±æ˜¯èµ›è·‘çš„æ„æ€ï¼Œæ„æ€å°±æ˜¯è¯´ï¼ŒPromise.race([p1, p2, p3])é‡Œé¢å“ªä¸ªç»“æœè·å¾—çš„å¿«ï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œä¸ç®¡ç»“æœæœ¬èº«æ˜¯æˆåŠŸçŠ¶æ€è¿˜æ˜¯å¤±è´¥çŠ¶æ€ã€‚å½“è¦åšä¸€ä»¶äº‹ï¼Œè¶…è¿‡å¤šé•¿æ—¶é—´å°±ä¸åšäº†ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•æ¥è§£å†³ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">6000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">timeOutPromise</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'ç½‘ç»œä¸ä½³'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>time<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span><span class="token function">timeOutPromise</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><p>5.finally()
finallyæ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚è¯¥æ–¹æ³•æ˜¯ ES2018 å¼•å…¥æ ‡å‡†çš„ã€‚</p></li> <li><p>6.allSettled()
Promise.allSettledè·ŸPromise.allç±»ä¼¼, å…¶å‚æ•°æ¥å—ä¸€ä¸ªPromiseçš„æ•°ç»„, è¿”å›ä¸€ä¸ªæ–°çš„Promise, å”¯ä¸€çš„ä¸åŒåœ¨äº, å…¶ä¸ä¼šè¿›è¡ŒçŸ­è·¯, ä¹Ÿå°±æ˜¯è¯´å½“Promiseå…¨éƒ¨å¤„ç†å®Œæˆåæˆ‘ä»¬å¯ä»¥æ‹¿åˆ°æ¯ä¸ªPromiseçš„çŠ¶æ€, è€Œä¸ç®¡å…¶æ˜¯å¦å¤„ç†æˆåŠŸ.</p></li></ul> <h3 id="async-await-çš„ç†è§£"><a href="#async-await-çš„ç†è§£" class="header-anchor">#</a> async/await çš„ç†è§£</h3> <p>async/awaitå…¶å®æ˜¯Generator çš„è¯­æ³•ç³–ï¼Œå®ƒèƒ½å®ç°çš„æ•ˆæœéƒ½èƒ½ç”¨thené“¾æ¥å®ç°ï¼Œå®ƒæ˜¯ä¸º<strong>ä¼˜åŒ–thené“¾</strong>è€Œå¼€å‘å‡ºæ¥çš„ã€‚ä»å­—é¢ä¸Šæ¥çœ‹ï¼Œasyncæ˜¯â€œå¼‚æ­¥â€çš„ç®€å†™ï¼Œawaitåˆ™ä¸ºç­‰å¾…ï¼Œæ‰€ä»¥å¾ˆå¥½ç†è§£async ç”¨äºç”³æ˜ä¸€ä¸ª function æ˜¯å¼‚æ­¥çš„ï¼Œè€Œ await ç”¨äºç­‰å¾…ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆã€‚å½“ç„¶è¯­æ³•ä¸Šå¼ºåˆ¶è§„å®šawaitåªèƒ½å‡ºç°åœ¨asnycå‡½æ•°ä¸­ï¼Œå…ˆæ¥çœ‹çœ‹asyncå‡½æ•°è¿”å›äº†ä»€ä¹ˆï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">testAsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">testAsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// Promise {&lt;fulfilled&gt;: &quot;hello world&quot;}</span>
</code></pre></div><p>æ‰€ä»¥ï¼Œasync å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚async å‡½æ•°ï¼ˆåŒ…å«å‡½æ•°è¯­å¥ã€å‡½æ•°è¡¨è¾¾å¼ã€Lambdaè¡¨è¾¾å¼ï¼‰ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœåœ¨å‡½æ•°ä¸­ return ä¸€ä¸ªç›´æ¥é‡ï¼Œasync ä¼šæŠŠè¿™ä¸ªç›´æ¥é‡é€šè¿‡ <strong>Promise.resolve()</strong> å°è£…æˆ Promise å¯¹è±¡ã€‚</p> <p>await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå–å†³äºå®ƒç­‰çš„æ˜¯ä»€ä¹ˆã€‚</p> <ul><li>å¦‚æœå®ƒç­‰åˆ°çš„ä¸æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œé‚£ await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå°±æ˜¯å®ƒç­‰åˆ°çš„ä¸œè¥¿ã€‚</li> <li>å¦‚æœå®ƒç­‰åˆ°çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å°±å¿™èµ·æ¥äº†ï¼Œå®ƒä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œç­‰ç€ Promise å¯¹è±¡ resolveï¼Œç„¶åå¾—åˆ° resolve çš„å€¼ï¼Œä½œä¸º await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚</li></ul> <p><strong>Promise é€šè¿‡ then é“¾æ¥è§£å†³å¤šå±‚å›è°ƒçš„é—®é¢˜ï¼Œç°åœ¨åˆç”¨ async/await æ¥è¿›ä¸€æ­¥ä¼˜åŒ–å®ƒ</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * ä¼ å…¥å‚æ•° nï¼Œè¡¨ç¤ºè¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
 * æ‰§è¡Œçš„ç»“æœæ˜¯ n + 200ï¼Œè¿™ä¸ªå€¼å°†ç”¨äºä¸‹ä¸€æ­¥éª¤
 */</span>
<span class="token keyword">function</span> <span class="token function">takeLongTime</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">step1</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">step1 with </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">takeLongTime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">step2</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">step2 with </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">takeLongTime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">step3</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">step3 with </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">takeLongTime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">thenDoIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;doIt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> time1 <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
  <span class="token function">step1</span><span class="token punctuation">(</span>time1<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">time2</span> <span class="token operator">=&gt;</span> <span class="token function">step2</span><span class="token punctuation">(</span>time2<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">time3</span> <span class="token operator">=&gt;</span> <span class="token function">step3</span><span class="token punctuation">(</span>time3<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">result is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">&quot;doIt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">thenDoIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">asyncAwaitdoIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;doIt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> time1 <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> time2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step1</span><span class="token punctuation">(</span>time1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> time3 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step2</span><span class="token punctuation">(</span>time2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step3</span><span class="token punctuation">(</span>time3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">result is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">&quot;doIt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">asyncAwaitdoIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å¯ä»¥çœ‹åˆ°async/awaitçš„æ–¹å¼ç¡®å®ç®€æ´å¾ˆå¤š</p> <p>Generatorå‡½æ•°æ˜¯åç¨‹ï¼ˆå¤šä¸ªçº¿ç¨‹äº’ç›¸åä½œï¼Œå®Œæˆå¼‚æ­¥ä»»åŠ¡ï¼‰åœ¨ ES6çš„å®ç°ï¼Œæœ€å¤§ç‰¹ç‚¹å°±æ˜¯å¯ä»¥äº¤å‡ºå‡½æ•°çš„æ‰§è¡Œæƒï¼ˆå³æš‚åœæ‰§è¡Œï¼‰ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">yield</span> x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ•´ä¸ª Generator å‡½æ•°å°±æ˜¯ä¸€ä¸ªå°è£…çš„å¼‚æ­¥ä»»åŠ¡ï¼Œæˆ–è€…è¯´æ˜¯å¼‚æ­¥ä»»åŠ¡çš„å®¹å™¨ã€‚å¼‚æ­¥æ“ä½œéœ€è¦æš‚åœçš„åœ°æ–¹ï¼Œéƒ½ç”¨ yield è¯­å¥æ³¨æ˜ã€‚Generator å‡½æ•°çš„æ‰§è¡Œæ–¹æ³•å¦‚ä¸‹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// { value: 3, done: false }</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// { value: undefined, done: true }</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œè°ƒç”¨ Generator å‡½æ•°ï¼Œä¼šè¿”å›ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆï¼ˆå³éå†å™¨ ï¼‰g ã€‚è¿™æ˜¯ Generator å‡½æ•°ä¸åŒäºæ™®é€šå‡½æ•°çš„å¦ä¸€ä¸ªåœ°æ–¹ï¼Œå³æ‰§è¡Œå®ƒä¸ä¼šè¿”å›ç»“æœï¼Œè¿”å›çš„æ˜¯æŒ‡é’ˆå¯¹è±¡ã€‚è°ƒç”¨æŒ‡é’ˆ g çš„ next æ–¹æ³•ï¼Œä¼šç§»åŠ¨å†…éƒ¨æŒ‡é’ˆï¼ˆå³æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„ç¬¬ä¸€æ®µï¼‰ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªé‡åˆ°çš„ yield è¯­å¥ï¼Œä¸Šä¾‹æ˜¯æ‰§è¡Œåˆ° x + 2 ä¸ºæ­¢ã€‚</p> <p>next æ–¹æ³•çš„ä½œç”¨æ˜¯åˆ†é˜¶æ®µæ‰§è¡Œ Generator å‡½æ•°ã€‚æ¯æ¬¡è°ƒç”¨ next æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰é˜¶æ®µçš„ä¿¡æ¯ï¼ˆ value å±æ€§å’Œ done å±æ€§ï¼‰ã€‚value å±æ€§æ˜¯ yield è¯­å¥åé¢è¡¨è¾¾å¼çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰é˜¶æ®µçš„å€¼ï¼›done å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Generator å‡½æ•°æ˜¯å¦æ‰§è¡Œå®Œæ¯•ï¼Œå³æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</p> <p>async/awaitå¯¹æ¯”Promiseçš„ä¼˜åŠ¿</p> <ul><li>ä»£ç è¯»èµ·æ¥æ›´åŠ åŒæ­¥ï¼ŒPromiseè™½ç„¶æ‘†è„±äº†å›è°ƒåœ°ç‹±ï¼Œä½†æ˜¯thençš„é“¾å¼è°ƒâ½¤ä¹Ÿä¼šå¸¦æ¥é¢å¤–çš„é˜…è¯»è´Ÿæ‹…</li> <li>Promiseä¼ é€’ä¸­é—´å€¼â¾®å¸¸éº»çƒ¦ï¼Œâ½½async/awaitâ¼ä¹æ˜¯åŒæ­¥çš„å†™æ³•ï¼Œâ¾®å¸¸ä¼˜é›…</li> <li>é”™è¯¯å¤„ç†å‹å¥½ï¼Œasync/awaitå¯ä»¥â½¤æˆç†Ÿçš„try/catchï¼ŒPromiseçš„é”™è¯¯æ•è·â¾®å¸¸å†—ä½™</li> <li>è°ƒè¯•å‹å¥½ï¼ŒPromiseçš„è°ƒè¯•å¾ˆå·®ï¼Œç”±äºæ²¡æœ‰ä»£ç å—ï¼Œä½ ä¸èƒ½åœ¨â¼€ä¸ªè¿”å›è¡¨è¾¾å¼çš„ç®­å¤´å‡½æ•°ä¸­è®¾ç½®æ–­ç‚¹ï¼Œå¦‚æœä½ åœ¨â¼€ä¸ª.thenä»£ç å—ä¸­ä½¿â½¤è°ƒè¯•å™¨çš„æ­¥è¿›(step-over)åŠŸèƒ½ï¼Œè°ƒè¯•å™¨å¹¶ä¸ä¼šè¿›â¼Šåç»­çš„.thenä»£ç å—ï¼Œå› ä¸ºè°ƒè¯•å™¨åªèƒ½è·Ÿè¸ªåŒæ­¥ä»£ç çš„æ¯â¼€æ­¥ã€‚</li></ul> <p>async/awaitç›¸æ¯”Generatorçš„ä¼˜åŠ¿</p> <ul><li>å†…ç½®æ‰§è¡Œå™¨ Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº† co å‡½æ•°åº“ï¼Œè€Œ async å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œasync å‡½æ•°çš„æ‰§è¡Œï¼Œä¸æ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œã€‚</li> <li>è¯­ä¹‰åŒ–æ›´å¥½ async å’Œ awaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œ yieldï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚async æ˜¯â€œå¼‚æ­¥â€çš„ç®€å†™ï¼Œè€Œ await å¯ä»¥è®¤ä¸ºæ˜¯ async wait çš„ç®€å†™ã€‚æ‰€ä»¥åº”è¯¥å¾ˆå¥½ç†è§£ async ç”¨äºç”³æ˜ä¸€ä¸ª function æ˜¯å¼‚æ­¥çš„ï¼Œè€Œ await ç”¨äºç­‰å¾…ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆã€‚</li> <li>æ›´å¹¿çš„é€‚ç”¨æ€§ yield å‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œ async å‡½æ•°çš„ await å‘½ä»¤åé¢ï¼Œå¯ä»¥è·Ÿ Promise å¯¹è±¡å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰ã€‚</li></ul> <h3 id="settimeoutã€setintervalã€requestanimationframe-å„æœ‰ä»€ä¹ˆç‰¹ç‚¹-todo"><a href="#settimeoutã€setintervalã€requestanimationframe-å„æœ‰ä»€ä¹ˆç‰¹ç‚¹-todo" class="header-anchor">#</a> setTimeoutã€setIntervalã€requestAnimationFrame å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ(TODO:)</h3> <p>å¼‚æ­¥ç¼–ç¨‹å½“ç„¶å°‘ä¸äº†å®šæ—¶å™¨äº†ï¼Œå¸¸è§çš„å®šæ—¶å™¨å‡½æ•°æœ‰ setTimeoutã€setIntervalã€requestAnimationFrameã€‚æœ€å¸¸ç”¨çš„æ˜¯setTimeoutï¼Œå¾ˆå¤šäººè®¤ä¸º setTimeout æ˜¯å»¶æ—¶å¤šä¹…ï¼Œé‚£å°±åº”è¯¥æ˜¯å¤šä¹…åæ‰§è¡Œã€‚</p> <p>å…¶å®è¿™ä¸ªè§‚ç‚¹æ˜¯é”™è¯¯çš„ï¼Œå› ä¸º JS æ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ï¼Œå¦‚æœå‰é¢çš„ä»£ç å½±å“äº†æ€§èƒ½ï¼Œå°±ä¼šå¯¼è‡´ setTimeout ä¸ä¼šæŒ‰æœŸæ‰§è¡Œã€‚å½“ç„¶äº†ï¼Œå¯ä»¥é€šè¿‡ä»£ç å»ä¿®æ­£ setTimeoutï¼Œä»è€Œä½¿å®šæ—¶å™¨ç›¸å¯¹å‡†ç¡®ï¼š</p> <h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="header-anchor">#</a> é¢å‘å¯¹è±¡</h2> <h2 id="åƒåœ¾å›æ”¶å’Œå†…å­˜æ³„æ¼"><a href="#åƒåœ¾å›æ”¶å’Œå†…å­˜æ³„æ¼" class="header-anchor">#</a> åƒåœ¾å›æ”¶å’Œå†…å­˜æ³„æ¼</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/blog/pages/knowledgeBase/js/2.html" class="prev">
        ã€Œ2021ã€é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ä¹‹JavaScriptç¯‡ï¼ˆä¸Šï¼‰
      </a></span> <span class="next"><a href="/blog/pages/knowledgeBase/js/4.html">
        JavaScripté£æ ¼æŒ‡å—
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.526b3043.js" defer></script><script src="/blog/assets/js/2.6a3f7784.js" defer></script><script src="/blog/assets/js/22.02cc2ff1.js" defer></script>
  </body>
</html>
